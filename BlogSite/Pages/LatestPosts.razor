@page "/Latest"
@using BlogSite.Services
@inject BlogPostLoader BlogPosts
<h1>Latest on this site</h1>

<div id="wrapper">
	@foreach (var post in GetLatestPosts().ToList().OrderByDescending(x => x.PublishedOn))
	{
		<BlogPostPreview Post="post"/>
	}
</div>

@code {
	public BlogPost[] GetLatestPosts()
	{
		return BlogPosts.GetPosts(maxCount: 10);
	}
}